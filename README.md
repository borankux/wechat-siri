# 微信公众号实现Siri

> Laravel 是最好的PHP 框架。

### 关于Siri

Siri 是一个iOS系统的语音助手，她能根据用户输入的语音消息提供个各种服务。

Hey Siri ，今天天气怎么样？

Hey Siri  ，附近有什么好吃的？

Siri 背后数百名程序员在不停的努力，她背后的神经网络远比我们想象的复杂，但是简单的讲，就是语音到文本，再到语音的过程。

手机接收你发送的语音命令，将其转换成文本信息，对其进行对应处理，最终将处理结果以语音的形式返回给手机，最终通过手机声卡播放出来。

现在我告诉你，你可以使用微信公众号去实现属于你自己的Siri。

### 语音合成

微信公众号返回文本和图文消息已经不是什么难题了。返回语音消息在技术上要求能够动态生成语音。在本教程中，我们将使用百度语音合成来解决这个问题。百度语音合成API 提供了Restful API ，可以通过发送文本消息去获取对应的文本。微信公众号提供了上传临时语音素材的借口，我们可以利用此接口上传服务器返回的语音文件。临时语音消息在三天内自动被删除，如果需要保存，我们可以在后台做对应处理。

具体实现使用PHP 语言利用Laravel 框架去实现，Laravel框架是目前最受欢迎的PHP 框架之一，在Packagist上有对应的微信SDK ,可以极大减少我们的工作量。

### 语音识别

语音识别听起来难，但是腾讯提供了语音识别服务，这也简化了我们的工作。当然我们可以利用第三方的语音识别服务，不过微信自带的语音识别能够完全胜任我们的要求。

### 语义理解

完成了基本的语音-文本-语音 流水先之后我们可以完成简单的操作，比如结合第三方API 实现语音一对一翻译服务。当然这和我们说的Siri 还是差一点。所以我们可以利用第三方提供的语义理解API提高我们的语音助手的智商。语义理解是指对文本消息的意图识别，并做出某一个抽象化的意图对应的操作。比如，查询天气，你可以说，今天天气怎么样，今天会不会下雨，告诉我天气。几乎有成千上种方式去表达一个意思。语义理解能够帮我们将这多种命令压缩成同一个语义。然后我们队每一种语义制定某个操作，最终将操作结果以文本的形式反馈给语音合成API ，最终实现队用户的消息返回。



### 如果你是大牛

如果你是大牛，并不想使用第三方库，你可以自己尝试实现自己的语音合成，语音识别和语义理解库。因为微信只提供对中文的识别，如果这无法满足你的要求，你不妨自己实现一个属于自己的语音操作库。



